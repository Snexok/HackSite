import{r as l,j as e,c as d}from"./index-C1b-1aMx.js";import{a as p,b as m}from"./api-DKmmtWru.js";const g=({onSubmit:s})=>{const[t,a]=l.useState(""),[r,n]=l.useState(""),[i,o]=l.useState(""),x=()=>{p(t,r,i).then(()=>{s()})};return e.jsxs("div",{className:"flex flex-col w-fit px-6 py-4 gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-primary-green border-b border-transparent",children:"Login:"}),e.jsx("span",{className:"text-primary-green border-b border-transparent",children:"Username:"}),e.jsx("span",{className:"text-primary-green border-b border-transparent",children:"Password:"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{className:"px-1 border-b border-primary-green bg-transparent outline-0 caret-primary-green text-secondary-green",onChange:({target:c})=>a(c.value)}),e.jsx("input",{className:"px-1 border-b border-primary-green bg-transparent outline-0 caret-primary-green text-secondary-green",onChange:({target:c})=>n(c.value)}),e.jsx("input",{className:"px-1 border-b border-primary-green bg-transparent outline-0 caret-primary-green text-secondary-green",onChange:({target:c})=>o(c.value)})]})]}),e.jsx("div",{onClick:x,className:"text-xl text-accent hover:text-text cursor-pointer",children:"Создать"})]})},h=({user:s,idx:t})=>{const[a,r]=l.useState(!1);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{children:[t+1,"."]}),e.jsx("span",{className:d({"text-text":a},{"text-primary-green":!a},"hover:text-accent select-none cursor-pointer"),onClick:()=>r(n=>!n),children:s.username})]}),a&&e.jsxs("div",{className:"flex flex-col px-5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-green",children:"username: "}),e.jsx("span",{className:"text-secondary-green",children:s.username})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-green",children:"login: "}),e.jsx("span",{className:"text-secondary-green",children:s.login})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-green",children:"role: "}),e.jsx("span",{className:"text-secondary-green",children:s.role.toLowerCase()})]})]})]})},j=({reloadUserList:s})=>{const[t,a]=l.useState([]);return l.useEffect(()=>{m().then(({data:r})=>{a(r)})},[s]),e.jsx("div",{className:"flex flex-col p-4 gap-4",children:t.map((r,n)=>e.jsx(h,{user:r,idx:n},r.id))})},N=()=>{const[s,t]=l.useState(!1),[a,r]=l.useState(0);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"cursor-pointer hover:text-accent select-none",onClick:()=>t(n=>!n),children:[s?"-":"+"," Добавить пользователя"]}),s&&e.jsx(g,{onSubmit:()=>{t(!1),r(n=>n+1)}}),e.jsx(j,{reloadUserList:a})]})};export{N as default};
