import{r as c,j as e,c as o}from"./index-C1b-1aMx.js";import{c as p,g as m}from"./api-DKmmtWru.js";const g=({onSubmit:s})=>{const[n,t]=c.useState(""),[r,a]=c.useState(""),[l,x]=c.useState(0),d=()=>{p(n,r,l).then(()=>{s()})};return e.jsxs("div",{className:"flex flex-col w-fit px-6 py-4 gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary-green border-b border-transparent",children:"Title:"}),e.jsx("input",{className:"px-1 border-b border-primary-green bg-transparent outline-0 caret-primary-green text-secondary-green",onChange:({target:i})=>t(i.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary-green border-b border-transparent",children:"Desc:"}),e.jsx("input",{className:"px-1 border-b border-primary-green bg-transparent outline-0 caret-primary-green text-secondary-green",onChange:({target:i})=>a(i.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary-green border-b border-transparent",children:"Price:"}),e.jsx("input",{className:"px-1 border-b border-primary-green bg-transparent outline-0 caret-primary-green text-secondary-green",onChange:({target:i})=>x(+i.value)})]})]}),e.jsx("div",{onClick:d,className:"text-xl text-accent hover:text-text cursor-pointer",children:"Создать"})]})},h=({service:s,idx:n})=>{const[t,r]=c.useState(!1);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{children:[n+1,"."]}),e.jsx("span",{className:o({"text-text":t},{"text-primary-green":!t},"hover:text-accent select-none cursor-pointer"),onClick:()=>r(a=>!a),children:s.title})]}),t&&e.jsxs("div",{className:"flex flex-col px-5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-green",children:"title: "}),e.jsx("span",{className:"text-secondary-green",children:s.title})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-green",children:"description: "}),e.jsx("span",{className:"text-secondary-green",children:s.description})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-primary-green",children:"price: "}),e.jsx("span",{className:"text-secondary-green",children:s.price})]})]})]})},j=({reloadUserList:s})=>{const[n,t]=c.useState([]);return c.useEffect(()=>{m().then(({data:r})=>{t(r)})},[s]),e.jsx("div",{className:"flex flex-col p-4 gap-4",children:n.map((r,a)=>e.jsx(h,{service:r,idx:a},r.id))})},N=()=>{const[s,n]=c.useState(!1),[t,r]=c.useState(0);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"cursor-pointer hover:text-accent select-none",onClick:()=>n(a=>!a),children:[s?"-":"+"," Добавить услугу"]}),s&&e.jsx(g,{onSubmit:()=>{n(!1),r(a=>a+1)}}),e.jsx(j,{reloadUserList:t})]})};export{N as default};
